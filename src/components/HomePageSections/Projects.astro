---
import { sanityClient } from "sanity:client";

const projects = await sanityClient.fetch(`*[_type == "project"]`)
console.log(projects[0].links[0].name)
---

<div class="w-full flex flex-col justify-center items-start" data-aos="fade-up" data-aos-duration="2000" data-aos-offset="400" data-aos-mirror="true">
    <div class="flex w-full items-center mb-4 gap-2">
        <h1 class="text-3xl font-bold sm:whitespace-nowrap">These are some of my recent projects</h1>
        <div class="bg-gradient-to-r from-blue-400 to-purple-500 h-[1px] rounded grow w-full"></div>
    </div>
    <div class="grid grid-rows-3 grid-cols-1 sm:grid-rows-1 sm:grid-cols-3 gap-4 text-white w-full overflow-hidden">
        {projects.map((project: any) => (
            <div class="rounded bg-blue-400 text-lg font-semibold p-2 h-40 sm:h-auto sm:aspect-square flex flex-col gap-1">
                <span>{project.name}</span>
                <div class="text-xs font-regular text-slate-800 flex flex-wrap gap-2">
                    {project.tags.map((tag: any) => (
                        <span class="p-2 bg-slate-50 rounded">{tag}</span>
                    ))}
                </div>
                <p class="text-sm font-thin">{project.description}</p>
                <div class="flex-grow flex flex-col justify-end">
                    <div class="flex gap-2 justify-end">
                        {project.links.map((link: any) => (
                            <a class="bg-blue-100 text-blue-900 p-1 rounded" href={link.url}>{link.name}</a>
                        ))}
                    </div>
                </div>
            </div>
        ))}
    </div>
</div>